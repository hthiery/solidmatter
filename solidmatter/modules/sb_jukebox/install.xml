<?xml version="1.0" ?>
<sbXMLBatch>
	
	<move to="{SMBACKEND}/modules/sb_jukebox">{BATCHDIR}/backend</move>
	
	<repository>
		<add>
			<nodetype id="sb_jukebox:jukebox" type="PRIMARY" displaytype="sb_jukebox">
				<module>sb_jukebox</module>
				<class>sbNode_jukebox_jukebox</class>
				<classfile>sb.jukebox.node.jukebox</classfile>
				<property id="">
					...
				</property>
				<view id="administration" display="TRUE" order="1">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_administration</class>
					<classfile>sb.jukebox.node.jukebox.view.administration</classfile>
					<action id="clearLibrary" type="BACKEND" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.administration.info.xsl" mimetype="text/html" />
					</action>
					<action id="info" default="TRUE" type="BACKEND" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.administration.info.xsl" mimetype="text/html" />
					</action>
					<action id="startImport" type="BACKEND">
						<output type="STREAM" />
					</action>
				</view>
				<view id="albums">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_albums</class>
					<classfile>sb.jukebox.node.jukebox.view.albums</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.albums.display.xsl" mimetype="text/html" />
					</action>
					<action id="search" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.albums.display.xsl" mimetype="text/html" />
					</action>
				</view>
				<view id="artists">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_artists</class>
					<classfile>sb.jukebox.node.jukebox.view.artists</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.artists.display.xsl" mimetype="text/html" />
					</action>
					<action id="search" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.artists.display.xsl" mimetype="text/html" />
					</action>
				</view>
				<view id="blacklist">
					<module></module>
					<class></class>
					<classfile></classfile>
				</view>
				<view id="charts">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_charts</class>
					<classfile>sb.jukebox.node.jukebox.view.charts</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.charts.display.xsl" mimetype="text/html" />
					</action>
					<action id="changePivot" type="BOTH">
						<output type="HEADERS" />
					</action>
				</view>
				<view id="favorites">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_favorites</class>
					<classfile>sb.jukebox.node.jukebox.view.favorites</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.favorites.display.xsl" mimetype="text/html" />
					</action>
					<action id="addItem" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.favorites.display.xsl" mimetype="text/html" />
					</action>
					<action id="removeItem" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.favorites.display.xsl" mimetype="text/html" />
					</action>
					<action id="getM3U" type="BOTH">
						<output type="HEADERS" />
					</action>
				</view>
				<view id="library" default="TRUE">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_library</class>
					<classfile>sb.jukebox.node.jukebox.view.library</classfile>
					<action id="info" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.library.info.xsl" mimetype="text/html" />
					</action>
					<action id="search" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.library.search.xsl" mimetype="text/html" />
					</action>
					<action id="displayCoverWall" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.library.displayCoverWall.xsl" mimetype="text/html" />
					</action>
				</view>
				<view id="login">
					<module>sb_system</module>
					<class>sbView_root_login</class>
					<classfile>sb.node.root.view.login</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:root.login.xsl" mimetype="text/html" />
					</action>
					<action id="login" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:root.login.xsl" mimetype="text/html" />
					</action>
					<action id="logout" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:root.login.xsl" mimetype="text/html" />
					</action>
				</view>
				<view id="playlists">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_playlists</class>
					<classfile>sb.jukebox.node.jukebox.view.playlists</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.playlists.display.xsl" mimetype="text/html" />
					</action>
					<action id="create" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.playlists.create.xsl" mimetype="text/html" />
					</action>
				</view>
				<view id="properties" display="TRUE">
					<module>sb_system</module>
					<class>sbView_properties</class>
					<classfile>sb.node.view.properties</classfile>
					<action id="edit" type="BACKEND" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_system:node.properties.xsl" mimetype="text/html" />
					</action>
					<action id="save" type="BACKEND" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_system:node.properties.xsl" mimetype="text/html" />
					</action>
				</view>
				<view id="tags">
					<module>sb_jukebox</module>
					<class>sbView_jukebox_jukebox_administration</class>
					<classfile>sb.jukebox.node.jukebox.view.administration</classfile>
					<action id="display" type="BOTH" uselocale="TRUE" default="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.tags.display.xsl" mimetype="text/html" />
					</action>
					<action id="listItems" type="BOTH" uselocale="TRUE">
						<output type="RENDERED" stylesheet="sb_jukebox:jukebox.tags.listItems.xsl" mimetype="text/html" />
					</action>
					<action id="changeWeighting" type="BOTH">
						<output type="HEADERS" />
					</action>
				</view>
			</nodetype>
			<nodetype id="sb_jukebox:artist" type="PRIMARY" taggable="TRUE" displaytype="sb_artist">
				<module>sb_system</module>
				<class>sbNode</class>
				<classfile>sb.node</classfile>
			</nodetype>
			<nodetype id="sb_jukebox:album" type="PRIMARY" taggable="TRUE" displaytype="sb_album">
				<module>sb_jukebox</module>
				<class>sbNode_jukebox_album</class>
				<classfile>sb.jukebox.node.album</classfile>
			</nodetype>
			<nodetype id="sb_jukebox:track" type="PRIMARY" taggable="TRUE" displaytype="sb_track">
				<module>sb_jukebox</module>
				<class>sbNode_jukebox_track</class>
				<classfile>sb.jukebox.node.track</classfile>
			</nodetype>
			<nodetype id="sb_jukebox:playlist" type="PRIMARY" taggable="TRUE" displaytype="sb_playlist">
				<module>sb_system</module>
				<class>sbNode</class>
				<classfile>sb.node</classfile>
			</nodetype>
			<nodetype id="sb_jukebox:recommendation" type="PRIMARY" displaytype="sb_message">
				<module>sb_system</module>
				<class>sbNode</class>
				<classfile>sb.node</classfile>
			</nodetype>
			<mode id="create">
				<allow parent="sb_jukebox:album" child="sb_system:comment" />
				<allow parent="sb_jukebox:artist" child="sb_system:comment" />
				<allow parent="sb_jukebox:track" child="sb_system:comment" />
				<allow parent="sb_jukebox:playlist" child="sb_system:comment" />
				<allow parent="sb_jukebox:jukebox" child="sb_jukebox:playlist" />
			</mode>
			<mode id="list">
				<allow parent="sb_jukebox:album" child="sb_jukebox:track" />
				<allow parent="sb_jukebox:album" child="sb_system:comment" />
				<allow parent="sb_jukebox:jukebox" child="sb_jukebox:artist" />
				...
			</mode>
		</add>
	
	</repository>
	
</sbXMLBatch>